{
  	"namespace": "hud",

  	"biome_text": {
		"type": "image",
		"anchor_from": "top_left",
		"anchor_to": "top_left",
		"size": [ "100%c + 6px", "100%c + 2px" ],
		"texture": "textures/ui/Black",
		"alpha": 0.6,
		"$action_text": "$actionbar_text",
		"$length": "($action_text - 'biome:l')",
		"visible": "(not ($action_text - 'biome:' = $action_text))",
		"controls": [
			{ "biome": {
				"type": "label",
				"$biome": "(('%.' + $length + 's') * ($action_text - ('biome:l' + $length + ':b')))",
				"text": "('Biome: ' + $biome)",
				"alpha": "@hud.anim_actionbar_text_alpha_out",
				"layer": 31
			}}
		]
	},
  	"structure_locator": {
		"type": "image",
		"size": [ "100%c + 12px", 16 ],
		"offset": [ 0, "50%-68px" ],
		"texture": "textures/ui/hud_tip_text_background",
		"alpha": "@hud.anim_actionbar_text_background_alpha_out",
		"$action_text": "$actionbar_text",
		"$length": "($action_text - 'biome:l')",
		"visible": "(not ($action_text = $action_text - 'waypoint:'))",
		"controls": [
			{
				"stack_panel": {
					"type": "stack_panel",
					"orientation": "horizontal",
					"$biome_removed": "($action_text - ('biome:l' + $length + ':b') - ('%.' + $length + 's') * ($action_text - ('biome:l' + $length + ':b')))",
					"$direction": "($biome_removed - 'waypoint:d')",
					"$name": "($biome_removed - ('waypoint:d' + $direction) - ':w')",
					"controls": [
						{ "direction": {
							"type": "image",
							"size": [16, 16],
							"texture": "('textures/ui/directions/compass' + $direction)",
							"layer": 31,
							"alpha": "@hud.anim_actionbar_text_alpha_out"
						}},
						{ "space": {
							"type": "panel",
							"size": [4, 16]
						}},
						{ "text": {
							"type": "panel",
							"size": ["100%c", 16],
							"controls": [{ "text": {
								"type": "label",
								"text": "$name",
								"localize": true,
								"alpha": "@hud.anim_actionbar_text_alpha_out",
								"layer": 31
							}}]
						}}
					]
				}
			}
		]
  	},

  //vanilla elements
  "hud_actionbar_text": {
    "$action_text": "$actionbar_text",
    "visible": "(($action_text - 'biome:' - 'waypoint:' = $action_text))"
  },

  "root_panel": {
    "modifications": [{
      "array_name": "controls",
      "operation": "insert_front",
      "value": {
        "structure_locator": {
          "type": "panel",
          "factory": {
            "name": "hud_actionbar_text_factory",
            "control_ids": {
              "hud_actionbar_text": "hud_actionbar_text@hud.structure_locator"
            }
          }
        }
      }
    }]
  },
  "root_panel/chat_stack": {
    "modifications": [{
      "array_name": "controls",
      "operation": "insert_after",
      "where": { "number_of_days_played@hud.number_of_days_played": {} },
      "value": {
        "biome_panel": {
          "type": "panel",
          "size": [ "100%c", "100%c" ],
          "factory": {
            "name": "hud_actionbar_text_factory",
            "control_ids": {
              "hud_actionbar_text": "hud_actionbar_text@hud.biome_text"
            }
          }
        }
      }
    }]
  }
}